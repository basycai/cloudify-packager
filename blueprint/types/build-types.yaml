inputs:


node_types:
  build.nodes.Generic:
    derived_from: cloudify.nodes.SoftwareComponent
    properties:
      core_tag_name:
        default: { get_input: core_tag_name }
      common_builder_script_url:
        # https://raw.githubusercontent.com/cloudify-cosmo/cloudify-packager/$CORE_TAG_NAME/common/provision.sh
        default: { concat: ['https://raw.githubusercontent.com/cloudify-cosmo/cloudify-packager/', { get_property: [SELF, core_tag_name] }, '/common/provision.sh'] }
      github_username:
        default: { get_input: github_username }
      github_password:
        default: { get_input: github_password }
      aws_access_key_id:
        default: { get_input: aws_access_key_id }
      aws_access_key:
        default: { get_input: aws_secret_access_key }
      plugin_name:
        default: { get_input: plugin_name }
      plugin_tag_name:
        default: { get_input: plugin_tag_name }

outputs:
  plugin:
    value: { get_attribute: [ build, s3_url ] }